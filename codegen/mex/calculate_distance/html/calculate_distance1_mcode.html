<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%% Calculate distance</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">x_coordination</span>,<span class="var type1" id="S3T1U4">dis_meter</span>]=calculate_distance(<span class="var type1" id="S4T2U7">waypoint_add</span>,<span class="var type1" id="S5T3U8">num_point</span>,<span class="var type1" id="S6T3U9">InitLat</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% InitLat = waypoint(1,1);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T1:U6"><span class="potentialdiff PD4"><span class="var type1" id="S2T1U12">x_coordination</span> = <span class="mxinfo " id="T1:U8">zeros(<span class="var type1" id="S5T3U15">num_point</span>,1)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T1:U10"><span class="potentialdiff PD4"><span class="var type1" id="S3T1U19">dis_meter</span> = <span class="mxinfo " id="T1:U12">zeros(<span class="mxinfo " id="T3:U13"><span class="var type1" id="S5T3U23">num_point</span>-<span class="mxinfo " id="T3:U15">1</span></span>,1)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T3:U16"><span class="var type1" id="S8T3U28">MetperLat</span> = <span class="mxinfo " id="T3:U18">110574</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T3:U19"><span class="var type1" id="S9T3U32">MetperLon</span> = <span class="mxinfo " id="T3:U21"><span class="mxinfo " id="T3:U22">111320</span>*<span class="mxinfo " id="T3:U23">cos(<span class="mxinfo " id="T3:U24"><span class="mxinfo " id="T3:U25"><span class="var type1" id="S6T3U39">InitLat</span>*<span class="mxinfo " id="T3:U27">pi</span></span>/<span class="mxinfo " id="T3:U28">180</span></span>)</span></span></span>; <span class="comment">% meter per degree</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S12T3U45">i</span> = <span class="potentialdiff PD2"><span class="mxinfo " id="T3:U30">1</span>:<span class="mxinfo " id="T3:U31"><span class="var type1" id="S5T3U49">num_point</span>-<span class="mxinfo " id="T3:U33">1</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo " id="T4:U34"><span class="var type1" id="S13T4U53">dis_latlon</span> = <span class="mxinfo " id="T4:U36"><span class="mxinfo " id="T4:U37"><span class="var type1" id="S4T2U56">waypoint_add</span>(<span class="mxinfo " id="T3:U39"><span class="var type1" id="S12T3U58">i</span>+<span class="mxinfo " id="T3:U41">1</span></span>,<span class="mxinfo " id="T5:U42">:</span>)</span> - <span class="mxinfo " id="T4:U43"><span class="var type1" id="S4T2U62">waypoint_add</span>(<span class="var type1" id="S12T3U63">i</span>,<span class="mxinfo " id="T5:U46">:</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T3:U47"><span class="mxinfo " id="T3:U48"><span class="potentialdiff PD3"><span class="var type1" id="S3T1U68">dis_meter</span>(<span class="var type1" id="S12T3U69">i</span>,<span class="mxinfo " id="T3:U51">1</span>)</span></span> = <span class="mxinfo " id="T3:U52"><span class="potentialdiff PD1">sqrt(<span class="mxinfo " id="T3:U53"><span class="mxinfo " id="T3:U54">(<span class="mxinfo " id="T3:U55"><span class="mxinfo " id="T3:U56"><span class="var type1" id="S13T4U78">dis_latlon</span>(<span class="mxinfo " id="T6:U58">1</span>)</span>*<span class="var type1" id="S8T3U80">MetperLat</span></span>)^2</span>  + <span class="mxinfo " id="T3:U60">(<span class="mxinfo " id="T3:U61"><span class="mxinfo " id="T3:U62"><span class="var type1" id="S13T4U86">dis_latlon</span>(<span class="mxinfo " id="T6:U64">2</span>)</span>*<span class="var type1" id="S9T3U88">MetperLon</span></span>)^2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line">    <span class="mxinfo " id="T3:U66"><span class="mxinfo " id="T3:U67"><span class="potentialdiff PD3"><span class="var type1" id="S2T1U93">x_coordination</span>(<span class="mxinfo " id="T3:U69"><span class="var type1" id="S12T3U95">i</span>+<span class="mxinfo " id="T3:U71">1</span></span>,<span class="mxinfo " id="T3:U72">1</span>)</span></span> = <span class="mxinfo " id="T3:U73"><span class="mxinfo " id="T3:U74"><span class="var type1" id="S2T1U100">x_coordination</span>(<span class="var type1" id="S12T3U101">i</span>,<span class="mxinfo " id="T3:U77">1</span>)</span> + <span class="mxinfo " id="T3:U78"><span class="var type1" id="S3T1U104">dis_meter</span>(<span class="var type1" id="S12T3U105">i</span>,<span class="mxinfo " id="T3:U81">1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
