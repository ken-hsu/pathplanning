<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%% Calculate distance2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">x_coordination</span>,<span class="var type1" id="S3T1U4">dis_meter</span>]=calculate_distance2(<span class="var type1" id="S4T2U7">waypoint_lat</span>,<span class="var type1" id="S5T2U8">waypoint_lon</span>,<span class="var type1" id="S6T3U9">num_point</span>,<span class="var type1" id="S7T3U10">InitLat</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% InitLat = waypoint(1,1);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T1:U7"><span class="potentialdiff PD4"><span class="var type1" id="S2T1U13">x_coordination</span> = <span class="mxinfo " id="T1:U9">zeros(<span class="var type1" id="S6T3U16">num_point</span>,1)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T1:U11"><span class="potentialdiff PD4"><span class="var type1" id="S3T1U20">dis_meter</span> = <span class="mxinfo " id="T1:U13">zeros(<span class="mxinfo " id="T3:U14"><span class="var type1" id="S6T3U24">num_point</span>-<span class="mxinfo " id="T3:U16">1</span></span>,1)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T3:U17"><span class="var type1" id="S9T3U29">MetperLat</span> = <span class="mxinfo " id="T3:U19">110574</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T3:U20"><span class="var type1" id="S10T3U33">MetperLon</span> = <span class="mxinfo " id="T3:U22"><span class="mxinfo " id="T3:U23">111320</span>*<span class="mxinfo " id="T3:U24">cos(<span class="mxinfo " id="T3:U25"><span class="mxinfo " id="T3:U26"><span class="var type1" id="S7T3U40">InitLat</span>*<span class="mxinfo " id="T3:U28">pi</span></span>/<span class="mxinfo " id="T3:U29">180</span></span>)</span></span></span>; <span class="comment">% meter per degree</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S13T3U46">i</span> = <span class="potentialdiff PD2"><span class="mxinfo " id="T3:U31">1</span>:<span class="mxinfo " id="T3:U32"><span class="var type1" id="S6T3U50">num_point</span>-<span class="mxinfo " id="T3:U34">1</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo " id="T3:U35"><span class="mxinfo " id="T3:U36"><span class="potentialdiff PD3"><span class="var type1" id="S3T1U55">dis_meter</span>(<span class="var type1" id="S13T3U56">i</span>)</span></span> = <span class="mxinfo " id="T3:U39"><span class="potentialdiff PD1">sqrt(<span class="mxinfo " id="T3:U40"><span class="mxinfo " id="T3:U41">(<span class="mxinfo " id="T3:U42">(<span class="mxinfo " id="T3:U43"><span class="mxinfo " id="T3:U44"><span class="var type1" id="S4T2U66">waypoint_lat</span>(<span class="mxinfo " id="T3:U46"><span class="var type1" id="S13T3U68">i</span>+<span class="mxinfo " id="T3:U48">1</span></span>)</span>-<span class="mxinfo " id="T3:U49"><span class="var type1" id="S4T2U71">waypoint_lat</span>(<span class="var type1" id="S13T3U72">i</span>)</span></span>)*<span class="var type1" id="S9T3U73">MetperLat</span></span>)^2</span>  + <span class="mxinfo " id="T3:U53">(<span class="mxinfo " id="T3:U54">(<span class="mxinfo " id="T3:U55"><span class="mxinfo " id="T3:U56"><span class="var type1" id="S5T2U81">waypoint_lon</span>(<span class="mxinfo " id="T3:U58"><span class="var type1" id="S13T3U83">i</span>+<span class="mxinfo " id="T3:U60">1</span></span>)</span>-<span class="mxinfo " id="T3:U61"><span class="var type1" id="S5T2U86">waypoint_lon</span>(<span class="var type1" id="S13T3U87">i</span>)</span></span>)*<span class="var type1" id="S10T3U88">MetperLon</span></span>)^2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T3:U65"><span class="mxinfo " id="T3:U66"><span class="potentialdiff PD3"><span class="var type1" id="S2T1U93">x_coordination</span>(<span class="mxinfo " id="T3:U68"><span class="var type1" id="S13T3U95">i</span>+<span class="mxinfo " id="T3:U70">1</span></span>)</span></span> = <span class="mxinfo " id="T3:U71"><span class="mxinfo " id="T3:U72"><span class="var type1" id="S2T1U99">x_coordination</span>(<span class="var type1" id="S13T3U100">i</span>,<span class="mxinfo " id="T3:U75">1</span>)</span> + <span class="mxinfo " id="T3:U76"><span class="var type1" id="S3T1U103">dis_meter</span>(<span class="var type1" id="S13T3U104">i</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
